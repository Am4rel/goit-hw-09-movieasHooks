(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{37:function(t,e,c){"use strict";var a=c(40),n=c.n(a),s=c(41),i=c(42),o=c.n(i),r="https://api.themoviedb.org/3/",l="4e3ee43a33940cdc2c536aa8c24e20b3";function j(){return(j=Object(s.a)(n.a.mark((function t(e){var c,a,s,i,j=arguments;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=j.length>1&&void 0!==j[1]?j[1]:null,a=j.length>2&&void 0!==j[2]?j[2]:null,s={trends:"".concat(r,"trending/all/day?api_key=").concat(l),search:"".concat(r,"search/movie?api_key=").concat(l,"&query=").concat(a,"&page=1"),filmInfo:"".concat(r,"movie/").concat(c,"?api_key=").concat(l),actors:"".concat(r,"movie/").concat(c,"/credits?api_key=").concat(l),reviews:"".concat(r,"movie/").concat(c,"/reviews?api_key=").concat(l),similar:"".concat(r,"movie/").concat(c,"/similar?api_key=").concat(l)},t.next=5,o()(s[e]);case 5:return i=t.sent,t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}e.a=function(t){return j.apply(this,arguments)}},38:function(t,e,c){"use strict";c(0);var a=c(8),n=c(1);e.a=function(t){return Object(n.jsx)("ul",{className:"listBox",children:t.movies.map((function(e){var c=e.id,s=e.title,i=e.name,o=e.poster_path,r=o?"https://image.tmdb.org/t/p/w200".concat(o):"https://abletrektours.com/wp-content/uploads/2020/01/Scandinavian-Mystery-e1578001346789.png";return Object(n.jsx)("li",{className:"listItem",children:Object(n.jsxs)(a.b,{to:{pathname:"/movies/".concat(c),state:{from:t.location}},children:[Object(n.jsx)("img",{src:r,alt:s||i}),Object(n.jsx)("p",{children:s||i})]})},c)}))})}},70:function(t,e,c){},74:function(t,e,c){"use strict";c.r(e);var a=c(39),n=c(0),s=c(37),i=c(1),o=function(t){var e=Object(n.useState)([]),c=Object(a.a)(e,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){Object(s.a)("actors",t.match.params.movieId).then((function(t){return r(t.data.cast)})).catch((function(t){return console.log(t)}))}),[t.match.params.movieId]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h2",{className:"title",children:"Cast:"}),o.length>0&&Object(i.jsx)("ul",{className:"listBox",children:o.map((function(t){var e=t.profile_path,c=t.name,a=t.character,n=t.cast_id,s=e?"https://image.tmdb.org/t/p/w200".concat(e):"https://www.kstech.com//images/easyblog_images/4072/incognito_mode_400.jpg";return Object(i.jsxs)("li",{className:"listItem",children:[Object(i.jsx)("img",{src:s,alt:c}),Object(i.jsx)("p",{children:c}),Object(i.jsxs)("p",{children:["Character: ",a]})]},n)}))})]})},r=function(t){var e=Object(n.useState)([]),c=Object(a.a)(e,2),o=c[0],r=c[1];return Object(n.useEffect)((function(){Object(s.a)("reviews",t.match.params.movieId).then((function(t){return r(t.data.results)})).catch((function(t){return console.log(t)}))}),[t.match.params.movieId]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h2",{className:"title",children:"Reviews:"}),o.length>0?Object(i.jsx)("ul",{children:o.map((function(t){var e=t.author,c=t.content;return Object(i.jsxs)("li",{children:[Object(i.jsxs)("p",{children:["Author: ",e]}),Object(i.jsx)("p",{children:c})]},c)}))}):Object(i.jsx)("p",{children:"We don't have any review of this film yet. You can be first!"})]})},l=c(38),j=c(8),m=c(2);c(70),e.default=function(t){var e=Object(n.useState)(""),c=Object(a.a)(e,2),h=c[0],u=c[1],b=Object(n.useState)(0),d=Object(a.a)(b,2),p=d[0],O=d[1],f=Object(n.useState)(""),v=Object(a.a)(f,2),x=v[0],g=v[1],N=Object(n.useState)([]),I=Object(a.a)(N,2),w=I[0],y=I[1],k=Object(n.useState)(""),_=Object(a.a)(k,2),B=_[0],S=_[1],C=Object(n.useState)(""),L=Object(a.a)(C,2),E=L[0],F=L[1],M=Object(n.useState)([]),A=Object(a.a)(M,2),J=A[0],R=A[1],q=Object(n.useState)(7),G=Object(a.a)(q,2),H=G[0],P=G[1],U=B.split("-")[0];Object(n.useEffect)((function(){Object(s.a)("filmInfo",t.match.params.movieId).then((function(t){var e=t.data,c=e.title,a=e.overview,n=e.vote_average,s=e.genres,i=e.release_date,o=e.poster_path,r=[];s.map((function(t){return r.push(t.name)}));var l=o?"https://image.tmdb.org/t/p/w300".concat(o):"https://image.flaticon.com/icons/png/512/2790/2790961.png";u(c),O(n),g(a),y(r),S(i),F(l)})).catch((function(t){return console.log(t)})),Object(s.a)("similar",t.match.params.movieId).then((function(t){return R(t.data.results)})).catch((function(t){return console.log(t)}))}),[t.match.params.movieId]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"filmInfoBox",children:[Object(i.jsx)("img",{src:E,alt:"".concat(h," poster"),width:"300"}),Object(i.jsxs)("div",{className:"filmInfoBoxMain",children:[Object(i.jsx)("button",{type:"button",onClick:function(){var e=t.location.state;e?t.history.push(e.from):t.history.push({pathname:"/"})},children:"<-- Back"}),Object(i.jsxs)("h2",{className:"filmInfoBoxItem",children:[h," (",U,")"]}),Object(i.jsxs)("p",{className:"filmInfoBoxItem",children:["User score: ",p]}),Object(i.jsx)("h4",{className:"filmInfoBoxItem",children:"Overwiev"}),Object(i.jsx)("p",{className:"filmInfoBoxItem",children:x||Object(i.jsx)("span",{children:"Here should be an overview, but we don't have it yet..."})}),Object(i.jsx)("h4",{className:"filmInfoBoxItem",children:"Genres"}),Object(i.jsx)("ul",{className:"filmInfoBoxItem",children:w.map((function(t){return Object(i.jsx)("li",{children:t},t)}))})]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{className:"title",children:"Similar movies:"}),Object(i.jsxs)("div",{className:"similarMoviesBox",children:[Object(i.jsx)("button",{type:"button",onClick:function(){H>8&&P(H-7)},disabled:H<8,children:"Previous"}),Object(i.jsx)(l.a,{movies:J.slice(H-7,H),location:t.location}),Object(i.jsx)("button",{type:"button",onClick:function(){H<19&&P(H+7)},disabled:H>20,children:"Next"})]})]}),Object(i.jsxs)("div",{className:"additionalInfo",children:[Object(i.jsx)("h2",{className:"title",children:"Additional information:"}),Object(i.jsxs)("ul",{className:"additionalInfoList",children:[Object(i.jsx)("li",{children:Object(i.jsx)(j.c,{className:"NavLink",activeClassName:"NavLink-active",to:{pathname:"".concat(t.match.url,"/cast"),state:t.location.state&&{from:t.location.state.from}},children:"Cast"})}),Object(i.jsx)("li",{children:Object(i.jsx)(j.c,{className:"NavLink",activeClassName:"NavLink-active",to:{pathname:"".concat(t.match.url,"/reviews"),state:t.location.state&&{from:t.location.state.from}},children:"Reviews"})})]})]})]}),Object(i.jsxs)(m.d,{children:[Object(i.jsx)(m.b,{path:"".concat(t.match.path,"/cast"),component:o}),Object(i.jsx)(m.b,{path:"".concat(t.match.path,"/reviews"),component:r})]})]})}}}]);
//# sourceMappingURL=movie-page.79e9ad4f.chunk.js.map